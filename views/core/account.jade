extends layout-account

block content
  include shared/tb-mixins
  div.page-header
    h3
      i.icon-user
      | &nbsp;#{title}

  mixin showInfo(info, true)
  mixin showError(error)

  form.form-horizontal(method='post', action='/account', role='form')
    input(type='hidden', name='_csrf', value=collabjs.token)
    div.form-group
      label.col-lg-2.control-label Picture
      div.col-lg-10
        a(href='#{collabjs.config.env.avatarServer}', target='_blank')
          img(src='#{collabjs.user.pictureUrl}', alt='Gravatar')
        span.help-block Click the picture to edit your avatar
    div.form-group
      label.col-lg-2.control-label(for='name') Name
      div.col-lg-10
        input.form-control(type='text', required, id='name', name='name', value=collabjs.user.name)
        span.help-block Enter your real name, so people you know can recognize you.
    div.form-group
      label.col-lg-2.control-label(for='location') Location
      div.col-lg-10
        input.form-control(id='location', name='location', type='hidden', data-location='#{collabjs.user.location}')
        span.help-block Where in the world are you?
    div.form-group
      label.col-lg-2.control-label(for='website') Website
      div.col-lg-10
        input.form-control(type='text', id='website', name='website', value=collabjs.user.website)
        span.help-block Have a homepage or a blog? Put the address here.
    div.form-group
      label.col-lg-2.control-label(for='bio') Bio
      div.col-lg-10
        textarea.form-control.v-resize(id='bio', name='bio', rows='3')= collabjs.user.bio
        span.help-block
          | About yourself in 160 characters or less.
          span.bio-counter-label(id='bio_counter') 160

    div.form-group
      div.col-lg-offset-2.col-lg-4
        a.btn.btn-default(href='/') Cancel
        button.btn.btn-primary(type='submit', style='margin-left:5px') Update

append scripts
  script.
    collabjs.ui.initAccountView();